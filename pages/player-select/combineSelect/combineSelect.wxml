<view class="page-container">
	<view class="header">
		<text class="title">è€ç‰Œç»„åˆ</text>
		<text class="subtitle">ä¸ºç¬¬{{groupIndex + 1}}ç»„ç©å®¶{{slotIndex + 1}}é€‰æ‹©</text>
	</view>
	<view class="content">
		<!-- åŠ è½½çŠ¶æ€ -->
		<view wx:if="{{ loading }}" class="loading-container">
			<view class="loading-spinner"></view>
			<text class="loading-text">åŠ è½½ä¸­...</text>
		</view>
		<!-- ç»„åˆåˆ—è¡¨ -->
		<view wx:elif="{{ combinations.length > 0 }}" class="combinations-list">
			<view
				wx:for="{{ combinations }}"
				wx:key="index"
				class="combination-item {{ selectedCombination === index ? 'selected' : '' }}"
				data-index="{{ index }}"
				bindtap="selectCombination"
			>
				<view class="combination-header">
					<text class="combination-title">ç»„åˆ {{index + 1}}</text>
					<text class="member-count">{{item.length}}äºº</text>
				</view>
				<view class="members-grid">
					<view wx:for="{{ item }}" wx:for-item="member" wx:key="userid" class="member-card">
						<image class="member-avatar" src="{{ member.coverpath || '/images/default-avatar.png' }}" mode="aspectFill" lazy-load="true"></image>
						<view class="member-info">
							<text class="member-name">{{member.nickname}}</text>
							<text class="member-handicap">æ†æ•°: {{member.handicap}}</text>
						</view>
					</view>
				</view>
				<!-- é€‰ä¸­çŠ¶æ€æŒ‡ç¤ºå™¨ -->
				<view wx:if="{{ selectedCombination === index }}" class="selected-indicator">
					<text class="selected-text">âœ“</text>
				</view>
			</view>
		</view>
		<!-- ç©ºçŠ¶æ€ -->
		<view wx:else class="empty-state">
			<view class="empty-icon">ğŸŒï¸â€â™‚ï¸</view>
			<text class="empty-text">æš‚æ— è€ç‰Œç»„åˆ</text>
			<text class="empty-desc">æ‚¨è¿˜æ²¡æœ‰å»ºç«‹è¿‡è€ç‰Œç»„åˆ</text>
		</view>
	</view>
</view>