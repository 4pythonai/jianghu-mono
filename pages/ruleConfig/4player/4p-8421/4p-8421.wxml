<view class="rule-config-bg">
  <view class="rule-config-card">
    <!-- 规则名称 -->
    <view class="form-label">规则名称</view>
    <input class="form-input" model:value="{{user_rulename}}" bindinput="onRuleNameInput" />

    <view class="section-label">请配置游戏规则</view>

    <!-- 扣分规则 -->
    <koufen
      visible="{{showKoufen}}"
      display-value="{{koufenDisplayValue}}"
      bind:show="onShowKoufen"
      bind:cancel="onCloseKoufen"
      bind:confirm="onKoufenConfirm"
    />

    <!-- 顶洞规则 -->
    <draw8421_config
      visible="{{showDingdong}}"
      display-value="{{dingdongDisplayValue}}"
      disabled="{{noKoufen}}"
      no-koufen="{{noKoufen}}"
      bind:show="onShowDingdong"
      bind:cancel="onCloseDingdong"
      bind:confirm="onDingdongConfirm"
    />

    <!-- 吃肉规则 -->
    <eatmeat
      visible="{{showEatmeat}}"
      display-value="{{eatmeatDisplayValue}}"
      disabled="{{noKoufen || draw8421_config === 'NoDraw'}}"
      no-koufen="{{noKoufen}}"
      bind:show="onShowEatmeat"
      bind:cancel="onCloseEatmeat"
      bind:confirm="onEatmeatConfirm"
    />

    <!-- 底部按钮 -->
    <button class="add-btn" bindtap="onAddToMyRules">添加至我的规则</button>
  </view>
</view>
