<view class="red-blue-config">
  <view class="grouping-method">
    <view class="section-label">è¯·é€‰æ‹©åˆ†ç»„æ–¹å¼</view>
    <radio-group class="my-radio-group" bindchange="onGroupingMethodChange">
      <label class="radio-item">
        <radio class="my-radio" value="4_å›ºæ‹‰" checked="{{red_blue_config === '4_å›ºæ‹‰'}}"/>
        <text class="radio-label">å›ºæ‹‰</text>
      </label>
      <label class="radio-item">
        <radio class="my-radio" value="4_ä¹±æ‹‰" checked="{{red_blue_config === '4_ä¹±æ‹‰'}}"/>
        <text class="radio-label">ä¹±æ‹‰</text>
      </label>
      <label class="radio-item">
        <radio class="my-radio" value="4_é«˜æ‰‹ä¸è§é¢" checked="{{red_blue_config === '4_é«˜æ‰‹ä¸è§é¢'}}"/>
        <text class="radio-label">é«˜æ‰‹ä¸è§é¢</text>
      </label>
    </radio-group>
  </view>
  
  <!-- å‡ºå‘é¡ºåº -->
  <view class="departure-order">
    <view class="section-label">å‡ºå‘é¡ºåº</view>
    <view class="order-controls">
      <button class="order-btn" bindtap="randomOrder">æŠ½ç­¾æ’åº</button>
      <button class="order-btn" bindtap="handicapOrder">å·®ç‚¹æ’åº</button>
    </view>
    
    <!-- ç©å®¶åˆ—è¡¨ -->
    <view class="players-order-list">
      <view 
        class="player-order-item {{dragState.dragIndex === index ? 'dragging' : ''}}"
        wx:for="{{bootstrap_order}}" 
        wx:key="userid"
        data-index="{{index}}"
        bindtouchstart="onTouchStart"
        bindtouchmove="onTouchMove"
        bindtouchend="onTouchEnd"
        style="{{dragState.dragIndex === index ? 'transform: translateY(' + dragState.offsetY + 'rpx); z-index: 999;' : (dragState.targetIndex === index ? 'transform: translateY(' + (dragState.direction > 0 ? '-100' : '100') + 'rpx);' : '')}}"
      >
        <view class="drag-handle">
          <text class="drag-icon">â‹®â‹®</text>
        </view>
        <text class="group-dot">{{red_blue_config === '4_å›ºæ‹‰' ? (index < 2 ? 'ğŸ”µ' : 'ğŸ”´') : (index === 0 || index === 3 ? 'ğŸ”µ' : 'ğŸ”´')}}</text>
        <text class="order-number">#{{index + 1}}</text>
        <image 
          class="player-avatar" 
          src="{{item.avatar || '/images/default-avatar.png'}}"
          lazy-load="true"
          mode="aspectFill"
        />
        <text class="player-name">{{item.nickname || item.wx_nickname || 'æœªçŸ¥ç©å®¶'}}</text>
      </view>
    </view>
  </view>
</view> 