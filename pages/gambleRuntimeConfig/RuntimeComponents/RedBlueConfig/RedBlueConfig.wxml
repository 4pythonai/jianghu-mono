<!-- RedBlueConfigç»„ä»¶ - çº¢è“åˆ†ç»„é…ç½® -->
<view class="red-blue-config">
  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="auto-assign-btn" bindtap="autoAssign">è‡ªåŠ¨åˆ†ç»„</button>
    <button class="reset-btn" bindtap="resetTeams">é‡ç½®</button>
  </view>
  
  <!-- æœªåˆ†ç»„ç©å®¶ -->
  <view class="unassigned-section" wx:if="{{unassignedPlayers.length > 0}}">
    <view class="section-title">æœªåˆ†ç»„ç©å®¶</view>
    <view class="players-list">
      <view class="player-item unassigned" wx:for="{{unassignedPlayers}}" wx:key="userid">
        <image 
          class="player-avatar" 
          src="{{getPlayerAvatar(item.avatar)}}"
          lazy-load="true"
          mode="aspectFill"
        />
        <text class="player-name">{{item.nickname || item.wx_nickname || 'æœªçŸ¥ç©å®¶'}}</text>
        <view class="assign-buttons">
          <button 
            class="assign-red-btn" 
            bindtap="assignToRedTeam"
            data-player="{{item}}"
          >
            çº¢é˜Ÿ
          </button>
          <button 
            class="assign-blue-btn" 
            bindtap="assignToBlueTeam"
            data-player="{{item}}"
          >
            è“é˜Ÿ
          </button>
        </view>
      </view>
    </view>
  </view>
  
  <!-- é˜Ÿä¼åˆ†ç»„ -->
  <view class="teams-section">
    <!-- çº¢é˜Ÿ -->
    <view class="team-group red-team">
      <view class="team-header">
        <text class="team-title">ğŸ”´ çº¢é˜Ÿ ({{redTeam.length}}äºº)</text>
      </view>
      <view class="team-players">
        <view class="player-item assigned" wx:for="{{redTeam}}" wx:key="userid">
          <image 
            class="player-avatar" 
            src="{{getPlayerAvatar(item.avatar)}}"
            lazy-load="true"
            mode="aspectFill"
          />
          <text class="player-name">{{item.nickname || item.wx_nickname || 'æœªçŸ¥ç©å®¶'}}</text>
          <button 
            class="remove-btn" 
            bindtap="removeFromRedTeam"
            data-player="{{item}}"
          >
            âœ•
          </button>
        </view>
        <view class="empty-team" wx:if="{{redTeam.length === 0}}">
          <text class="empty-text">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ ç©å®¶</text>
        </view>
      </view>
    </view>
    
    <!-- è“é˜Ÿ -->
    <view class="team-group blue-team">
      <view class="team-header">
        <text class="team-title">ğŸ”µ è“é˜Ÿ ({{blueTeam.length}}äºº)</text>
      </view>
      <view class="team-players">
        <view class="player-item assigned" wx:for="{{blueTeam}}" wx:key="userid">
          <image 
            class="player-avatar" 
            src="{{getPlayerAvatar(item.avatar)}}"
            lazy-load="true"
            mode="aspectFill"
          />
          <text class="player-name">{{item.nickname || item.wx_nickname || 'æœªçŸ¥ç©å®¶'}}</text>
          <button 
            class="remove-btn" 
            bindtap="removeFromBlueTeam"
            data-player="{{item}}"
          >
            âœ•
          </button>
        </view>
        <view class="empty-team" wx:if="{{blueTeam.length === 0}}">
          <text class="empty-text">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ ç©å®¶</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- æç¤ºä¿¡æ¯ -->
  <view class="hint-text">
    <text>æç¤ºï¼šå°†ç©å®¶åˆ†é…åˆ°çº¢é˜Ÿæˆ–è“é˜Ÿï¼Œç”¨äºå¯¹æŠ—æ¸¸æˆ</text>
  </view>
</view> 