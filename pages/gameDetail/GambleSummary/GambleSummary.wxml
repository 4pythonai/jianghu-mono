<view class="gamble-summary">
  <!-- å¯¼èˆªæ  -->
  <view class="nav-bar">
    <view class="nav-left">
      <text class="nav-title">æ¸¸æˆè¯¦æƒ…</text>
    </view>
    <view class="nav-right">
      <view class="icon-btn" bindtap="gotoRuntimeConfigList">
        <image class="nav-icon" src="/assets/icons/icons8-right-arrow-50-3.png" mode="aspectFit"></image>
      </view>
    </view>
  </view>

  <view class="gamble-container">
    <!-- åŠ è½½çŠ¶æ€ -->
    <view class="loading-state" wx:if="{{loading}}">
      <text>åŠ è½½ä¸­...</text>
    </view>

    <!-- æœ‰èµŒåšæ•°æ®æ—¶çš„å†…å®¹ -->
    <block wx:elif="{{gambleResults && gambleResults.length > 0}}">
      <!-- èµŒåšæ±‡æ€»è¡¨æ ¼ -->
      <view class="gamble-total-table" wx:if="{{gambleResults.length > 1}}">
        <view class="gamble-result-title">æ¸¸æˆæ±‡æ€»/å‡ºå³è¾¹æ¨ªèœå•</view>
        <GambleTotalTable
          groupInfo="{{SummaryResult.group_info}}"
          usefulHoles="{{SummaryResult.useful_holes}}"
          qrcode_url="{{''}}"
          showQr="{{false}}"
        ></GambleTotalTable>
      </view>

      <!-- èµŒåšç»“æœåˆ—è¡¨ -->
      <view class="gamble-results">
        <view
          class="gamble-result-item"
          wx:for="{{gambleResults}}"
          wx:key="index"
          wx:for-item="gambleResult"
        >
          <!-- èµŒåšç»“æœæ ‡é¢˜ - åªæœ‰å½“æœ‰å¤šä¸ªèµŒåšé…ç½®æ—¶æ‰æ˜¾ç¤º -->
          <view
            class="gamble-result-title"
            wx:if="{{gambleResults.length > 1}}"
          >èµŒåšé…ç½® {{gambleResult.gambleSysName}}/{{gambleResult.gambleUserName}}</view>

          <!-- èµŒåšç»“æœè¡¨æ ¼ -->
          <GambleResultTable
            groupInfo="{{gambleResult.group_info}}"
            usefulHoles="{{gambleResult.useful_holes}}"
            qrcode_url="{{gambleResult.qrcode_url}}"
            showQr="{{false}}"
          ></GambleResultTable>
        </view>
      </view>
    </block>

    <!-- æš‚æ— èµŒåšæ•°æ®çŠ¶æ€ -->
    <view
      class="empty-state"
      wx:elif="{{!loading && (!gambleResults || gambleResults.length === 0)}}"
    >
      <view class="no-gamble-container">
        <view class="summary-title">æ±‡æ€»å¾…å¼€å‘[gameID:{{gameid}}][groupID:{{groupid}}]</view>
        <image class="ps-image" src="/images/ps.jpg" mode="aspectFit"></image>
        <text class="empty-hint">æš‚æ— </text>
        <!-- æŒ‰é’®åŒºåŸŸ -->
        <view class="bottom-button-area">
          <button class="add-game-button" bindtap="handleAddGame">
            <text class="button-emoji">ğŸ®</text>
            <text class="button-text">æ·»åŠ æ¸¸æˆ</text>
          </button>
        </view>
      </view>
    </view>
  </view>
</view>
