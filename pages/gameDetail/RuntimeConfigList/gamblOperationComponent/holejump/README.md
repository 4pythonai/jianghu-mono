# 跳洞设置组件 - 拖拽功能

## 功能描述

这是一个支持拖拽操作的跳洞设置组件，用户可以直观地通过拖拽来调整洞的顺序。

## 主要功能

### 1. 拖拽操作
- **抓取球**：长按任意洞球开始拖拽
- **实时反馈**：拖拽过程中球会放大并显示阴影效果
- **位置提示**：拖拽到其他位置时会显示占位符提示
- **自动补齐**：其他球会自动调整位置

### 2. 视觉反馈
- **拖拽状态**：被拖拽的球会放大1.1倍，透明度降低到0.8
- **占位符**：目标位置会显示虚线边框的占位符
- **提示信息**：拖拽时显示"拖拽到目标位置释放"的提示

### 3. 操作按钮
- **重置**：恢复到原始洞序
- **取消**：关闭弹窗，不保存更改
- **确定**：保存当前顺序并关闭弹窗

## 使用方法

### 基本操作
1. 打开跳洞设置弹窗
2. 长按任意洞球开始拖拽
3. 拖拽到目标位置
4. 释放手指完成移动
5. 点击"确定"保存更改

### 重置功能
- 点击"重置"按钮可以恢复到原始洞序
- 适用于用户想要重新开始调整的情况

## 技术实现

### 触摸事件处理
- `bindtouchstart`：开始拖拽，记录起始位置
- `bindtouchmove`：拖拽过程中，更新位置和视觉反馈
- `bindtouchend`：结束拖拽，执行位置交换

### 位置计算
- 使用 `createSelectorQuery()` 获取每个球的位置信息
- 通过触摸坐标计算目标位置
- 实时更新占位符显示

### 状态管理
- `isDragging`：当前是否处于拖拽状态
- `dragStartIndex`：拖拽起始位置的索引
- `dragOffset`：拖拽的偏移量
- `isPlaceholder`：是否为占位符状态

## 样式特点

### 响应式布局
- 使用CSS Grid布局，自动适应不同屏幕尺寸
- 9列网格布局，适合高尔夫球场的18洞显示

### 动画效果
- 拖拽时的缩放和阴影效果
- 平滑的过渡动画
- 占位符的虚线边框效果

## 注意事项

1. **触摸事件**：组件使用触摸事件而非鼠标事件，更适合移动端操作
2. **性能优化**：拖拽过程中会实时更新DOM，注意性能影响
3. **兼容性**：确保在微信小程序环境中正常使用
4. **数据同步**：拖拽操作会实时更新数据状态，确保数据一致性

## 扩展功能

可以考虑添加的功能：
- 拖拽音效反馈
- 撤销/重做功能
- 拖拽距离限制
- 多选拖拽功能
- 拖拽历史记录 