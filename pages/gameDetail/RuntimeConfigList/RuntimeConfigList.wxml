<!-- å®šä¹‰é…ç½®é¡¹æ¨¡æ¿ -->
<template name="configItem">
  <view
    class="config-item"
    bindtap="handleGotoResult"
    hover-class="config-item-hover"
    data-config="{{ item }}"
    data-index="{{ index }}"
  >
    <image
      class="delete-btn"
      src="/assets/icons/icons8-delete-48.png"
      data-id="{{ item.id }}"
      catchtap="onDeleteConfig"
    />
    <view class="config-header">
      <text class="config-title">æ¸¸æˆé…ç½®#{{ index + 1 }}/{{item.abstract}}</text>
    </view>
    <view class="config-details">
      <view class="config-row">
        <text class="config-label">ID:</text>
        <text class="config-value">{{ item.id }}</text>
      </view>
      <view class="config-row">
        <text class="config-label">åˆ›å»ºæ—¶é—´:</text>
        <text class="config-value">{{ item.create_time }}</text>
      </view>
      <view class="config-row">
        <text class="config-label">gambleSysName:</text>
        <text class="config-value">{{ item.gambleSysName }}</text>
      </view>
      <view class="config-row">
        <text class="config-label">gambleUserName:</text>
        <text class="config-value">{{ item.gambleUserName }}</text>
      </view>
      <view class="config-row" wx:if="{{ item.red_blue_config }}">
        <text class="config-label">åˆ†ç»„æ–¹å¼:</text>
        <text class="config-value">{{ item.red_blue_config }}</text>
      </view>
      <view class="config-row" wx:if="{{ item.ranking_display }}">
        <text class="config-label">æ’åè§„åˆ™:</text>
        <text class="config-value">{{ item.ranking_display }}</text>
      </view>
      <view class="config-row" wx:if="{{ item.player8421Count }}">
        <text class="config-label">å‚ä¸äººæ•°:</text>
        <text class="config-value">{{ item.player8421Count }}äºº</text>
      </view>
      <view class="config-row" wx:if="{{ item.endHoleindex }}">
        <text class="config-label">èµ·/ç»ˆ:</text>
        <text class="config-value">{{ item.startHoleindex }}/{{ item.endHoleindex }}</text>
      </view>
    </view>
    <view class="config-click-hint">
      <button
        class="detail-btn kick-btn"
        data-config="{{ item }}"
        data-index="{{ index }}"
        catchtap="onKickClick"
      >
        <image class="btn-icon" src="/assets/icons/icons8-kicking-50.png" mode="aspectFit"></image>è¸¢ä¸€è„š
      </button>

      <button
        class="detail-btn"
        data-config="{{ item }}"
        data-index="{{ index }}"
        catchtap="onRuntimeItemClick"
      >é…ç½®æ¸¸æˆ</button>
    </view>
  </view>
</template>
<!-- æ¸¸æˆ(Gamble)æ¨¡å— -->
<view class="gamble-container">
  <!-- åŠ è½½ä¸­çŠ¶æ€ -->
  <view wx:if="{{ loadingRuntimeConfig }}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½æ¸¸æˆé…ç½®ä¸­...</text>
  </view>
  <view wx:elif="{{ runtimeConfigs && runtimeConfigs.length > 0 }}" class="gamble-content">
    <!-- æ¸¸æˆé¢å¤–é€‰é¡¹ -->
    <view class="extra-options-container">
      <view class="extra-options-title">æ¸¸æˆè®¾ç½®</view>
      <view class="gambels-extra-opetion">
        <view class="option-text">æ¸¸æˆæ˜¯å¦å…¬å¼€</view>
        <radio-group name="gamePublic" class="radio-group-row" bindchange="onGamePublicChange">
          <label class="radio-label">
            <radio value="public" checked="true" />å…¬å¼€
          </label>
          <label class="radio-label">
            <radio value="private" />ç§å¯†
          </label>
        </radio-group>
      </view>

      <view
        wx:for="{{ extraOptions }}"
        wx:key="id"
        class="gambels-extra-opetion"
        bindtap="onExtraOptionClick"
        data-option="{{ item }}"
      >
        <view class="option-content">
          <image class="option-icon" src="{{ item.icon }}" mode="aspectFit"></image>
          <text class="option-text">{{ item.title }}</text>
        </view>
        <view class="option-arrow">
          <image class="arrow-icon" src="/assets/icons/icons8-right-arrow-100.png" mode="aspectFit"></image>
        </view>
      </view>

      <view class="gambels-extra-opetion">
        <view class="option-text">å¤§é£å¹</view>
        <radio-group name="bigWind" class="radio-group-row" bindchange="onBigWindChange">
          <label class="radio-label">
            <radio value="yes" />æ˜¯
          </label>
          <label class="radio-label">
            <radio value="no" checked="true" />å¦
          </label>
        </radio-group>
      </view>
    </view>
    <view class="config-list">
      <view wx:for="{{ runtimeConfigs }}" wx:key="unique">
        <template is="configItem" data="{{ item, index }}" />
      </view>
    </view>
    <!-- æ·»åŠ æ›´å¤šæ¸¸æˆæŒ‰é’® -->
    <view class="add-more-container">
      <button class="add-more-button" bindtap="handleAddGame">
        <text class="add-more-icon">+</text>
        <text class="add-more-text">æ·»åŠ æ›´å¤šæ¸¸æˆ</text>
      </button>
    </view>
  </view>
  <view wx:else class="gamble-content">
    <view class="no-gamble-container">
      <image class="ps-image" src="/images/ps.jpg" mode="aspectFit"></image>
      <text class="empty-hint">æš‚æ— æ¸¸æˆé…ç½®</text>
    </view>
    <!-- åº•éƒ¨æŒ‰é’®åŒºåŸŸ -->
    <view class="bottom-button-area">
      <button class="add-game-button" bindtap="handleAddGame">
        <text class="button-emoji">ğŸ®</text>
        <text class="button-text">æ·»åŠ æ¸¸æˆ</text>
      </button>
    </view>
  </view>
  <kickoff
    wx:if="{{isKickoffVisible}}"
    runtimeConfigs="{{[selectedConfigForKick]}}"
    bind:close="onKickoffClose"
  />
  <holejump
    wx:if="{{isHolejumpVisible}}"
    runtimeConfigs="{{runtimeConfigs}}"
    bind:close="onHolejumpClose"
  />
  <starthole
    wx:if="{{isStartholeVisible}}"
    runtimeConfigs="{{runtimeConfigs}}"
    bind:close="onStartholeClose"
  />
  <juanguo
    wx:if="{{isJuanguoVisible}}"
    runtimeConfigs="{{runtimeConfigs}}"
    bind:close="onJuanguoClose"
  />
</view>
