<view class="operation-bar">
  <!-- æ¯”èµ›æƒ…å†µæ˜¾ç¤ºåŒºåŸŸ -->
  <view class="game-info">
    <text class="course-name">{{gameData.courseName || gameData.course_name || 'åŒ—äº¬æ¸…æ²³æ¹¾ä¹¡æ‘é«˜å°”å¤«ä¿±ä¹éƒ¨'}} {{gameData.gameStatus || 'A&B'}}</text>
    <!-- ä¸‹æ‹‰æŒ‰é’® -->
    <view class="btn-dropdown" bindtap="onDropdownClick">
      <image class="dropdown-icon" src="{{isExpanded ? '/assets/icons/arrow-up.svg' : '/assets/icons/arrow-down.svg'}}" mode="aspectFit"></image>
    </view>
  </view>
  
  <!-- æ“ä½œæŒ‰é’®åŒºåŸŸ -->
  <view class="operation-buttons">
    <!-- æ·»åŠ æŒ‰é’® -->
    <view class="btn-add" bindtap="onAddClick">
      <image class="btn-icon" src="/assets/icons/add.svg"  mode="aspectFit"></image>
    </view>
    
    <!-- æ›´å¤šæŒ‰é’® -->
    <view class="btn-more" bindtap="onMoreClick">
      <text class="more-text">...</text>
    </view>
  </view>
</view>

<!-- è¯¦ç»†ä¿¡æ¯åŒºåŸŸ -->
<view class="game-details {{isExpanded ? 'expanded' : 'collapsed'}}">
  <view class="detail-row">
    <text class="detail-label">æ¯”èµ›åç§°:</text>
    <text class="detail-value">{{gameData.gameName || gameData.game_name || gameData.title || 'å‹è°Šèµ›'}}</text>
  </view>
  <view class="detail-row">
    <text class="detail-label">åˆ›å»ºäºº:</text>
    <text class="detail-value">{{gameData.creator || gameData.creator_name || gameData.create_user_name || 'å¼ ä¸‰'}}</text>
  </view>
  <view class="detail-row">
    <text class="detail-label">åˆ›å»ºæ—¶é—´:</text>
    <text class="detail-value">{{gameData.createTime || gameData.create_time || gameData.created_at || '2024-01-15 14:30'}}</text>
  </view>
  <view class="detail-row">
    <text class="detail-label">çƒåœº:</text>
    <text class="detail-value">{{gameData.courseName || gameData.course_name || 'åŒ—äº¬æ¸…æ²³æ¹¾ä¹¡æ‘é«˜å°”å¤«ä¿±ä¹éƒ¨'}}</text>
  </view>
  <view class="detail-row">
    <text class="detail-label">å¼€çƒæ—¶é—´:</text>
    <text class="detail-value">{{gameData.teeTime || gameData.tee_time || gameData.start_time || '2024-01-15 09:00'}}</text>
  </view>
</view>

<!-- åº•éƒ¨å¼¹å‡ºé¢æ¿ -->
<view class="more-panel-mask {{showMorePanel ? 'show' : ''}}" bindtap="hideMorePanel">
  <view class="more-panel {{showMorePanel ? 'show' : ''}}" catchtap="stopPropagation">
    <!-- é¢æ¿æ ‡é¢˜ -->
    <view class="panel-header">
      <text class="panel-title">æ›´å¤š</text>
    </view>
    
    <!-- åŠŸèƒ½é€‰é¡¹ç½‘æ ¼ -->
    <view class="options-grid">
      <view class="option-item" bindtap="onOptionClick" data-option="edit">
        <view class="option-icon">
          <text class="icon-text">âœï¸</text>
        </view>
        <text class="option-label">ä¿®æ”¹</text>
      </view>
      
      <view class="option-item" bindtap="onOptionClick" data-option="qrcode">
        <view class="option-icon">
          <text class="icon-text">ğŸ“±</text>
        </view>
        <text class="option-label">æ¯”èµ›ç </text>
      </view>
      
      <view class="option-item" bindtap="onOptionClick" data-option="scorecard">
        <view class="option-icon">
          <text class="icon-text">ğŸ“Š</text>
        </view>
        <text class="option-label">æˆç»©å¡</text>
      </view>
      
      <view class="option-item" bindtap="onOptionClick" data-option="poster">
        <view class="option-icon">
          <text class="icon-text">ğŸ¯</text>
        </view>
        <text class="option-label">æµ·æŠ¥</text>
      </view>
      
      <view class="option-item" bindtap="onOptionClick" data-option="feedback">
        <view class="option-icon">
          <text class="icon-text">â“</text>
        </view>
        <text class="option-label">åé¦ˆ</text>
      </view>
      
      <view class="option-item" bindtap="onOptionClick" data-option="style">
        <view class="option-icon">
          <text class="icon-text">ğŸ¨</text>
        </view>
        <text class="option-label">é£æ ¼</text>
      </view>
      
      <view class="option-item" bindtap="onOptionClick" data-option="account">
        <view class="option-icon">
          <text class="icon-text">ğŸ’°</text>
        </view>
        <text class="option-label">è´¦æœ¬</text>
      </view>
    </view>
    
    <!-- åˆ†å‰²çº¿ -->
    <view class="divider"></view>
    
    <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
    <view class="bottom-actions">
      <view class="action-btn cancel-btn" bindtap="onCancelGame">
        <text class="action-text">å–æ¶ˆæ¯”èµ›</text>
      </view>
      <view class="action-btn finish-btn" bindtap="onFinishGame">
        <text class="action-text">ç»“æŸæ¯”èµ›</text>
      </view>
    </view>
  </view>
</view> 