# GameDetail 运行时配置功能使用指南

## 功能简介

在游戏详情页面中，现在可以自动获取和显示该游戏的所有运行时配置信息。

## 如何使用

### 1. 自动加载
- 进入游戏详情页面时，系统会自动根据 `gameid` 获取运行时配置
- 配置信息会在"游戏"选项卡中显示

### 2. 查看配置信息
1. 点击页面顶部的"游戏"选项卡
2. 在游戏竞猜区域下方查看"运行时配置"区域
3. 可以看到以下信息：
   - 配置编号
   - 创建时间
   - 规则类型
   - 状态信息
   - 玩家数量(如果有)

### 3. 状态说明

#### 加载中状态
- 显示"正在加载运行时配置..."
- 此时正在从服务器获取配置信息

#### 成功状态
- 显示配置列表
- 每个配置项显示详细信息

#### 错误状态
- 显示错误信息
- 提供"重试"按钮重新加载

#### 空状态
- 显示"暂无运行时配置"
- 表示该游戏没有相关配置

## 故障排除

### 配置加载失败
1. 检查网络连接是否正常
2. 点击"重试"按钮重新加载
3. 如果问题持续，请联系技术支持

### 配置显示异常
1. 确保游戏ID正确
2. 检查是否有相关权限
3. 尝试刷新页面

## 技术说明

### API 调用
- 接口：`/Gamble/listRuntimeConfig`
- 参数：`gameid`(游戏ID)
- 方法：POST

### 数据流
1. 页面加载 → 获取游戏详情
2. 游戏详情成功 → 自动获取运行时配置
3. 配置获取成功 → 显示配置信息

### 兼容性
- 运行时配置功能不影响游戏详情的正常显示
- 即使配置加载失败，其他功能仍正常工作
- 支持重试机制，提高用户体验

## 注意事项

1. **并行加载**：运行时配置与游戏详情并行加载，不影响页面加载速度
2. **错误隔离**：配置加载失败不影响其他功能使用
3. **状态管理**：配置状态通过 MobX 统一管理，确保数据一致性
4. **用户体验**：加载过程中提供适当的状态反馈

## 开发相关

### 相关文件
- `stores/gameStore.js` - 数据存储和管理
- `pages/gameDetail/gameDetail.js` - 页面逻辑
- `pages/gameDetail/gameDetail.wxml` - 页面结构
- `pages/gameDetail/gameDetail.wxss` - 页面样式
- `api/modules/gamble.js` - API 接口定义

### 调试信息
- 查看控制台日志，标记为 `🎮 [Store]` 和 `🎮 [GameDetail]`
- 日志包含加载状态、API 响应、错误信息等

### 自定义扩展
- 可以修改 `gameDetail.wxml` 调整显示内容
- 可以修改 `gameDetail.wxss` 调整样式
- 可以在 `gameStore.js` 中添加更多数据处理逻辑 