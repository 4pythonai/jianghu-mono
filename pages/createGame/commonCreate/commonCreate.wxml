<view class="page-container">
  <view class="main-card">
    <view class="top-circle"></view>
    <view class="card-content">
      <view class="search-box">
        <!-- UUID æ˜¾ç¤ºåŒºåŸŸ(è°ƒè¯•ç”¨) -->
        <view class="uuid-section">
          <view class="form-label">æ¸¸æˆUUID(è°ƒè¯•)</view>
          <view class="uuid-display">
            <text class="uuid-text">{{uuid}}</text>
          </view>
        </view>
        <view class="uuid-section">
          <view class="form-label">gameid(è°ƒè¯•)</view>
          <view class="uuid-display">
            <text class="uuid-text">{{gameid}}</text>
          </view>
        </view>

        <!-- çƒåœºé€‰æ‹©åŒºåŸŸ -->
        <view class="course-section">
          <view class="form-label">é€‰æ‹©çƒåœº</view>
          <view class="search-input" bindtap="goToCourseSelect" wx:if="{{ !selectedCourse }}">
            <view class="location-icon">
              <image src="/assets/icons/location.svg" mode="aspectFit"></image>
            </view>
            <input type="text" placeholder="é€‰æ‹©çƒåœº" placeholder-class="input-placeholder" disabled />
            <view class="arrow-icon">
              <image src="/assets/icons/arrow-right.svg" mode="aspectFit"></image>
            </view>
          </view>
          <!-- å·²é€‰æ‹©çƒåœºæ—¶æ˜¾ç¤ºçƒåœºä¿¡æ¯ -->
          <view class="selected-course" wx:if="{{ selectedCourse }}">
            <view class="course-info" bindtap="goToCourseSelect">
              <view class="location-icon">
                <image src="/assets/icons/location.svg" mode="aspectFit"></image>
              </view>
              <view class="course-details">
                <view class="course-name">{{selectedCourse.name}}</view>
                <view class="course-address">{{selectedCourse.address}}</view>
                <!-- æ˜¾ç¤ºåŠåœºä¿¡æ¯ -->
                <view class="court-info" wx:if="{{ selectedCourt }}">
                  <text class="court-name">{{selectedCourt.name}}</text>
                </view>
              </view>
              <view class="change-icon">
                <image src="/assets/icons/arrow-right.svg" mode="aspectFit"></image>
              </view>
            </view>
            <view class="clear-btn" bindtap="clearSelectedCourse">
              <image src="/assets/icons/close.svg" mode="aspectFit"></image>
            </view>
          </view>
        </view>
        <!-- å…³é—­ course-section -->
      </view>
      <!-- æ¯”èµ›å±æ€§è¾“å…¥åŒºåŸŸ -->
      <view class="game-form">
        <!-- æ¯”èµ›åç§° -->
        <view class="form-item">
          <view class="form-label">æ¯”èµ›åç§°</view>
          <view class="form-input-wrapper">
            <input
              class="form-input"
              type="text"
              placeholder="è¯·è¾“å…¥æ¯”èµ›åç§°"
              placeholder-class="input-placeholder"
              value="{{ formData.gameName }}"
              bindinput="onGameNameInput"
              maxlength="50"
            />
          </view>
        </view>
        <!-- å¼€çƒæ—¶é—´ -->
        <view class="form-item">
          <view class="form-label">å¼€çƒæ—¶é—´</view>
          <view class="form-input-wrapper">
            <TimePicker
              value="{{ formData.openTime }}"
              placeholder="è¯·é€‰æ‹©å¼€çƒæ—¶é—´"
              bind:change="onOpenTimeChange"
            />
          </view>
        </view>
        <!-- å‚èµ›ç»„åˆ« -->
        <view class="form-item">
          <view class="form-label">
            <text>å‚èµ›ç»„åˆ«</text>
            <text class="form-sub-label">(è‡³å°‘ä¸€ç»„)</text>
          </view>
          <view class="groups-container">
            <view wx:for="{{ formData.gameGroups }}" wx:key="index" class="group-item">
              <PlayerSelector
                groupIndex="{{ index }}"
                players="{{ item.players }}"
                maxPlayers="4"
                bind:playersChange="onPlayersChange"
              />
              <!-- åˆ é™¤ç»„æŒ‰é’®(å½“ç»„æ•°å¤§äº1æ—¶æ˜¾ç¤º) -->
              <view
                wx:if="{{ formData.gameGroups.length > 1 }}"
                class="delete-group-btn"
                bindtap="deleteGroup"
                data-index="{{ index }}"
              >
                <image src="/assets/icons/close.svg" mode="aspectFit"></image>
              </view>
            </view>
            <!-- æ·»åŠ ç»„æŒ‰é’® -->
            <view class="add-group-btn" bindtap="addGroup">
              <image src="/assets/icons/add.svg" class="add-icon" mode="aspectFit"></image>
              <text>æ·»åŠ æ–°ç»„</text>
            </view>
          </view>
        </view>

        <!-- èµ›åˆ¶é€‰æ‹© -->
        <view class="form-item">
          <view class="form-label">èµ›åˆ¶</view>
          <view class="radio-group">
            <radio-group bindchange="onScoringTypeChange">
              <label class="radio-item">
                <radio
                  value="hole"
                  checked="{{ formData.ScoringType === 'hole' }}"
                  color="#4CAF50"
                />
                <text class="radio-text">ä¸ªäººæ¯”æ†</text>
              </label>
              <label class="radio-item">
                <radio
                  value="oneball"
                  checked="{{ formData.ScoringType === 'oneball' }}"
                  color="#4CAF50"
                />
                <text class="radio-text">æ—ºæ³¢</text>
              </label>
            </radio-group>
          </view>
        </view>

        <!-- Tå°é€‰æ‹©  TlandSelector -->
        <view class="form-item">
          <view class="form-label">Tå°é€‰æ‹©</view>
          <view class="tee-selector-wrapper">
            <view class="tee-selector-btn" bindtap="goToTeeSelect">
              <view class="selector-content">
                <view class="selector-icon">ğŸŒï¸</view>
                <view class="selector-text">
                  <text class="primary-text">è®¾ç½®Tå°</text>
                  <text class="sub-text">ä¸ºæ‰€æœ‰çƒå‘˜åˆ†é…Tå°é¢œè‰²</text>
                </view>
              </view>
              <view class="arrow-icon">
                <image src="/assets/icons/arrow-right.svg" mode="aspectFit"></image>
              </view>
            </view>
          </view>
        </view>

        <!-- éšç§è®¾ç½® -->
        <view class="form-item">
          <view class="form-label">éšç§è®¾ç½®</view>
          <view class="privacy-options">
            <view class="switch-item">
              <text class="switch-text">æ˜¯å¦ä¸ºç§˜å¯†æ¯”èµ›</text>
              <switch
                checked="{{ formData.isPrivate }}"
                bindchange="onPrivateChange"
                color="#4CAF50"
              />
            </view>
            <!-- å¯†ç è¾“å…¥(ä»…åœ¨ç§˜å¯†æ¯”èµ›æ—¶æ˜¾ç¤º) -->
            <view wx:if="{{ formData.isPrivate }}" class="password-input">
              <input
                class="form-input"
                type="text"
                placeholder="è¯·è®¾ç½®æ¯”èµ›å¯†ç "
                placeholder-class="input-placeholder"
                value="{{ formData.password }}"
                bindinput="onPasswordInput"
                maxlength="20"
              />
            </view>
          </view>
        </view>
      </view>
      <button class="create-btn" bindtap="onStartScoring">å¼€å§‹è®¡åˆ†</button>
    </view>
  </view>
</view>
