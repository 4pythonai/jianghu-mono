# 赌博游戏运行时配置功能测试建议

## 测试流程

### 1. 基础页面跳转测试
- [ ] 从 `gameDetail` 页面点击"添加游戏"能正常跳转到 `rules` 页面
- [ ] 在 `rules` 页面点击任意规则卡片能正常跳转到 `gambleRuntimeConfig` 页面
- [ ] 检查数据是否正确传递（查看控制台日志）

### 2. Summary组件测试
- [ ] 规则类型显示是否正确（如：2人8421、4人8421等）
- [ ] 参与人员列表是否正确显示
- [ ] 玩家头像和昵称是否正确显示
- [ ] 点击"重新选择"按钮是否弹出确认对话框
- [ ] 确认重新选择后是否能正常返回到 `rules` 页面

### 3. HoleRangeSelector组件测试
- [ ] 起始洞和结束洞的选择器是否正常工作
- [ ] 当前选择的洞范围显示是否正确
- [ ] 选择器数据是否根据总洞数正确生成
- [ ] 选择变更时是否正确触发事件

### 4. RedBlueConfig组件测试
- [ ] 仅在3人或4人游戏时才显示分组配置
- [ ] 未分组玩家列表是否正确显示
- [ ] 点击"红队"和"蓝队"按钮是否能正确分配玩家
- [ ] 自动分组功能是否正常工作
- [ ] 重置分组功能是否正常工作
- [ ] 从队伍中移除玩家是否正常工作

### 5. RankingSelector组件测试
- [ ] 排名选项是否正确显示
- [ ] 单选按钮是否正常工作
- [ ] 当前选择是否正确高亮显示
- [ ] 选择变更时是否正确触发事件

### 6. 数据验证测试
- [ ] 起始洞大于结束洞时是否显示错误提示
- [ ] 红蓝分组不完整时是否显示错误提示
- [ ] 分组人数与总人数不符时是否显示错误提示

### 7. 页面交互测试
- [ ] 点击"取消"按钮是否弹出确认对话框
- [ ] 点击"确定"按钮是否进行配置验证
- [ ] 配置成功后是否显示成功提示
- [ ] 配置完成后是否正确返回到 `gameDetail` 页面

## 调试建议

### 1. 控制台日志
在测试过程中，请注意观察控制台的输出日志：
- 数据传递日志
- 组件初始化日志
- 事件触发日志
- 错误信息日志

### 2. 数据流验证
检查关键数据是否正确传递：
```javascript
// 在gambleRuntimeConfig.js的onLoad方法中添加调试代码
console.log('传递的数据:', decodedData);
console.log('玩家信息:', decodedData.players);
console.log('洞数信息:', decodedData.holes);
```

### 3. 组件状态验证
在各个组件的关键方法中添加日志：
```javascript
// 在组件的事件处理方法中
console.log('当前配置:', this.data);
console.log('触发事件:', eventData);
```

## 可能的问题和解决方案

### 1. 数据传递问题
**问题**: 页面跳转时数据丢失或格式错误
**解决方案**: 
- 检查 `encodeURIComponent` 和 `decodeURIComponent` 的使用
- 确认 `gameStore` 中的数据格式是否正确

### 2. 组件显示问题
**问题**: 组件不显示或显示异常
**解决方案**:
- 检查组件的 `properties` 是否正确接收数据
- 确认组件的 `observers` 是否正常工作

### 3. 事件传递问题
**问题**: 组件事件无法正确传递到父页面
**解决方案**:
- 检查 `triggerEvent` 的使用是否正确
- 确认父页面的事件监听器是否正确绑定

### 4. 样式显示问题
**问题**: 样式不生效或显示异常
**解决方案**:
- 检查 `wxss` 文件是否正确加载
- 确认响应式设计是否在不同设备上正常工作

## 性能测试

### 1. 页面加载性能
- [ ] 页面初始加载时间是否合理
- [ ] 大量玩家数据时的渲染性能
- [ ] 组件切换时的响应速度

### 2. 内存使用
- [ ] 长时间使用是否有内存泄漏
- [ ] 页面销毁时是否正确清理资源

## 兼容性测试

### 1. 设备兼容性
- [ ] iOS设备测试
- [ ] Android设备测试
- [ ] 不同屏幕尺寸的适配

### 2. 微信版本兼容性
- [ ] 测试不同微信版本的兼容性
- [ ] 确认使用的API是否都被支持

## 测试完成标准

✅ 所有基础功能正常工作
✅ 数据传递和验证正确
✅ 用户界面友好且响应迅速
✅ 错误处理完善
✅ 性能表现良好
✅ 兼容性测试通过

## 备注

如果在测试过程中发现问题，请：
1. 记录具体的错误信息
2. 提供复现步骤
3. 截图或录屏说明问题
4. 提供设备和环境信息

这样我就能快速定位和解决问题。 