<!-- Summary组件 - 显示游戏规则摘要和参与人员 -->
<wxs src="/utils/image.wxs" module="image" />
<view class="summary-container">
  <!-- 规则信息 -->
  <view class="rule-info">
    <view class="rule-row">
      <text class="rule-label">选择的规则:</text>
      <view class="rule-value-container">
        <text class="rule-value">{{displayRuleName}}</text>
        <text class="rule-type-badge" wx:if="{{userRule}}">自定义</text>
        <text class="rule-type-badge system" wx:else>系统</text>
      </view>
      <text class="reselect-btn" bindtap="onReSelectRule">重新选择</text>
    </view>
  </view>

  <!-- 参与人员列表 -->
  <view class="players-section">
    <view class="players-title">参与人员</view>
    <view class="players-list">
      <view class="player-item" wx:for="{{playersWithAvatar}}" wx:key="index">
        <image
          class="player-avatar"
          src="{{image.imageUrl(item.avatar)}}"
          lazy-load="true"
          mode="aspectFill"
          binderror="onAvatarError"
          data-index="{{index}}"
        />
        <text class="player-name">{{item.display_name || '未知玩家'}}</text>
      </view>
    </view>
  </view>
</view>
