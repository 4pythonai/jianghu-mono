<view class="container">
  <CustomNavBar title="记分管理" showBack="{{true}}" />

  <view class="page-content">
    <view class="section-title">谁可以记分</view>
    <view class="card">
      <checkbox-group bindchange="onPermissionChange">
        <label class="permission-item" wx:for="{{permissionOptions}}" wx:key="key">
          <checkbox
            value="{{item.key}}"
            checked="{{item.checked}}"
            color="#2e7d32"
          />
          <text class="permission-label">{{item.label}}</text>
        </label>
      </checkbox-group>
    </view>
    <view class="hint">至少选择一项</view>
    <button
      class="btn btn-primary btn-block {{saving ? 'disabled' : ''}}"
      bindtap="onSave"
      loading="{{saving}}"
      disabled="{{saving}}"
    >
      保存
    </button>
  </view>
</view>
