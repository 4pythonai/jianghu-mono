<wxs src="/utils/image.wxs" module="image" />
<view class="container">
  <CustomNavBar title="我的粉丝" showBack="{{true}}" />

  <!-- 用户列表 -->
  <view class="user-list">
    <!-- 加载中 -->
    <view wx:if="{{loading}}" class="loading-container">
      <view class="loading-spinner"></view>
      <text class="loading-text">加载中...</text>
    </view>

    <!-- 用户列表 -->
    <block wx:elif="{{users.length > 0}}">
      <view
        wx:for="{{users}}"
        wx:key="user_id"
        class="user-item"
        data-user="{{item}}"
        bindtap="goToUserProfile"
      >
        <view class="user-content">
          <view class="user-avatar-wrap">
            <jh-avatar
              avatar="{{image.imageUrl(item.avatar)}}"
              userId="{{item.user_id}}"
              show_name="{{item.show_name || item.show_name || item.wx_name || '球友'}}"
              gender="{{item.gender}}"
              handicap="{{item.handicap}}"
              size="small"
              clickable="{{false}}"
            />
          </view>
          <view class="user-info">
            <text class="user-signature" wx:if="{{item.signature}}">{{item.signature}}</text>
          </view>
        </view>
      </view>
    </block>

    <!-- 空状态 -->
    <view wx:else class="empty-state">
      <view class="empty-icon">🔥</view>
      <text class="empty-text">暂无粉丝</text>
      <text class="empty-desc">多打球多分享，粉丝自然来</text>
    </view>
  </view>
</view>
