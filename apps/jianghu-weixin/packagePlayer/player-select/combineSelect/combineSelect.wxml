<wxs src="/utils/image.wxs" module="image" />
<CustomNavBar title="è€ç‰Œç»„åˆ" />
<view class="page-container">
  <view class="header"></view>
  <view class="content">
    <!-- ç»„åˆåˆ—è¡¨ -->
    <view wx:if="{{ combinations.length > 0 }}" class="combinations-list">
      <view
        wx:for="{{ combinations }}"
        wx:key="index"
        class="combination-item {{ selectedCombination === index ? 'selected' : '' }}"
        data-index="{{ index }}"
        bindtap="selectCombination"
      >
        <view class="combination-header">
          <text class="combination-title">ç»„åˆ {{index + 1}}</text>
          <text class="member-count">{{item.length}}äºº</text>
        </view>
        <view class="members-grid">
          <view wx:for="{{ item }}" wx:for-item="member" wx:key="user_id" class="member-card">
            <image
              class="member-avatar"
              src="{{ image.imageUrl(member.avatar) || '/images/default-avatar.png' }}"
              mode="aspectFill"
              lazy-load="true"
            ></image>
            <view class="member-info">
              <text class="member-name">{{member.display_name}}</text>
              <text class="member-nickname">æ˜µç§°: {{member.show_name}}</text>
              <text class="member-handicap">æ†æ•°: {{member.handicap}}</text>
            </view>
          </view>
        </view>
        <!-- é€‰ä¸­çŠ¶æ€æŒ‡ç¤ºå™¨ -->
        <view wx:if="{{ selectedCombination === index }}" class="selected-indicator">
          <text class="selected-text">âœ“</text>
        </view>
      </view>
    </view>
    <!-- ç©ºçŠ¶æ€ -->
    <view wx:else class="empty-state">
      <view class="empty-icon">ğŸŒï¸â€â™‚ï¸</view>
      <text class="empty-text">æš‚æ— è€ç‰Œç»„åˆ</text>
      <text class="empty-desc">æ‚¨è¿˜æ²¡æœ‰å»ºç«‹è¿‡è€ç‰Œç»„åˆ</text>
    </view>
  </view>
</view>
