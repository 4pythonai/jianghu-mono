<wxs src="/utils/image.wxs" module="image" />
<CustomNavBar title="分享邀请" />
<view class="container">
  <!-- 顶部标题区域 -->
  <view class="header-section">
    <view class="header-content">
      <image
        class="user-avatar"
        src="{{image.imageUrl(userAvatar) || '/images/default-avatar.png'}}"
        mode="aspectFill"
      ></image>
      <view class="header-text">
        <text class="header-title">{{userName || '我'}}邀请你加入比赛</text>
      </view>
    </view>
  </view>

  <!-- 中间分享内容区域（突出显示） -->
  <view class="content-section">
    <view class="content-card">
      <!-- 球员列表区域 -->
      <view class="players-section" wx:if="{{players && players.length > 0}}">
        <view class="players-grid">
          <view class="player-item" wx:for="{{players}}" wx:key="user_id">
            <image
              class="player-avatar"
              src="{{image.imageUrl(item.avatar) || '/images/default-avatar.png'}}"
              mode="aspectFill"
            ></image>
            <text class="player-name">{{item.show_name}}</text>
          </view>
        </view>
      </view>

      <!-- 球场信息 -->
      <view class="course-section" wx:if="{{courseName}}">
        <text class="course-name">{{courseName}}</text>
      </view>

      <!-- 开球时间 -->
      <view class="time-section" wx:if="{{openTime}}">
        <text class="open-time">{{openTime}}</text>
      </view>

      <!-- 二维码区域 -->
      <view class="qrcode-section">
        <view class="qrcode-wrapper" wx:if="{{qrcodeUrl}}">
          <image class="qrcode-image" src="{{image.imageUrl(qrcodeUrl)}}" mode="aspectFit"></image>
        </view>
        <view class="qrcode-loading" wx:elif="{{qrcodeLoading}}">
          <text class="loading-text">二维码生成中...</text>
        </view>
        <view class="qrcode-empty" wx:else>
          <text class="empty-text">二维码加载中...</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部按钮区域 -->
  <view class="footer-section">
    <button class="share-btn" open-type="share">
      <text class="share-btn-text">微信分享邀请</text>
    </button>
  </view>
</view>
