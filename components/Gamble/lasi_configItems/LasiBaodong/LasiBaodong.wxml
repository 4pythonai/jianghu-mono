<!-- 包洞规则配置组件 -->
<!-- 显示部分 -->
<view class="rule-section" wx:if="{{!visible}}">
  <view class="form-label">包洞规则</view>
  <view class="form-select" bindtap="onShowConfig">
    <input class="form-input" value="{{displayValue}}" disabled />
    <view class="select-arrow">
      <text class="arrow-circle">▼</text>
    </view>
  </view>
</view>

<!-- 弹窗部分 -->
<view wx:if="{{visible}}" class="modal-mask" bindtap="onCancel">
  <view class="modal-content" catchtap>
    <view class="modal-title">包洞规则</view>
    <view class="modal-list">
      <!-- 包洞规则选项 -->
      <view class="rule-section">
        <view class="rule-options">
          <view
            class="rule-option {{holeRuleType === 'no_hole' ? 'selected' : ''}}"
            bindtap="onHoleRuleChange"
            data-type="no_hole"
          >
            <view class="radio-dot {{holeRuleType === 'no_hole' ? 'selected' : ''}}"></view>
            <text class="rule-text">不包洞</text>
          </view>
          <view
            class="rule-option {{holeRuleType === 'double_par_plus_1' ? 'selected' : ''}}"
            bindtap="onHoleRuleChange"
            data-type="double_par_plus_1"
          >
            <view class="radio-dot {{holeRuleType === 'double_par_plus_1' ? 'selected' : ''}}"></view>
            <text class="rule-text">双帕+1包洞</text>
          </view>
          <view
            class="rule-option {{holeRuleType === 'plus_4' ? 'selected' : ''}}"
            bindtap="onHoleRuleChange"
            data-type="plus_4"
          >
            <view class="radio-dot {{holeRuleType === 'plus_4' ? 'selected' : ''}}"></view>
            <text class="rule-text">+4包洞</text>
          </view>
          <view
            class="rule-option {{holeRuleType === 'stroke_diff_3' ? 'selected' : ''}}"
            bindtap="onHoleRuleChange"
            data-type="stroke_diff_3"
          >
            <view class="radio-dot {{holeRuleType === 'stroke_diff_3' ? 'selected' : ''}}"></view>
            <text class="rule-text">杆差3包洞</text>
          </view>
        </view>
      </view>

      <!-- 分割线 -->
      <view class="modal-divider"></view>

      <!-- 包洞条件 -->
      <view class="condition-section">
        <view class="condition-title">包洞条件</view>
        <view class="condition-options">
          <view
            class="condition-option {{holeCondition === 'partner_tops' ? 'selected' : ''}}"
            bindtap="onHoleConditionChange"
            data-condition="partner_tops"
          >
            <view class="radio-dot {{holeCondition === 'partner_tops' ? 'selected' : ''}}"></view>
            <text class="condition-text">同伴顶头包洞</text>
          </view>
          <view
            class="condition-option {{holeCondition === 'irrelevant' ? 'selected' : ''}}"
            bindtap="onHoleConditionChange"
            data-condition="irrelevant"
          >
            <view class="radio-dot {{holeCondition === 'irrelevant' ? 'selected' : ''}}"></view>
            <text class="condition-text">与同伴成绩无关</text>
          </view>
        </view>
      </view>
    </view>
    <view class="modal-actions">
      <button class="modal-btn cancel" bindtap="onCancel">取消</button>
      <button class="modal-btn confirm" bindtap="onConfirm">确定</button>
    </view>
  </view>
</view>
