<view wx:if="{{visible}}" class="modal-mask" bindtap="onCancel">
  <view class="modal-content" catchtap>
    <view class="modal-title">扣分规则</view>
    <view class="modal-list">
      <block wx:for="{{groups}}" wx:key="groupIdx" wx:for-index="groupIdx">
        <view wx:if="{{groupIdx > 0}}" class="modal-divider"></view>
        <block wx:for="{{item.options}}" wx:key="index">
          <view class="modal-item {{groupIdx > 0 && groups[0].selected === 2 ? 'disabled-item' : ''}}" 
                bindtap="{{groupIdx > 0 && groups[0].selected === 2 ? '' : 'onSelectGroup'}}" 
                data-group="{{groupIdx}}" 
                data-index="{{index}}">
            <view class="radio-outer {{groups[groupIdx].selected === index ? 'checked' : ''}}">
              <view class="radio-inner" wx:if="{{groups[groupIdx].selected === index}}"></view>
            </view>
            <text>{{item}}</text>
          </view>
        </block>
      </block>
    </view>
    <view class="modal-actions">
      <button class="modal-btn cancel" bindtap="onCancel">取消</button>
      <button class="modal-btn confirm" bindtap="onConfirm">确定保存</button>
    </view>
  </view>
</view>