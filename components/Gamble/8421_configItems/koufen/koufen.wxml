<!--对应 sub8421_config_string 的配置项 -->
<view wx:if="{{visible}}" class="modal-mask" bindtap="onCancel">
  <view class="modal-content" catchtap>
    <view class="modal-title">扣分规则</view>
    <view class="modal-list">
      
      <!-- 扣分开始条件 -->
      <block wx:for="{{Sub8421ConfigString}}" wx:key="index">
        <view class="modal-item" bindtap="onSelectStart" data-index="{{index}}">
          <view class="radio-outer {{selectedStart === index ? 'checked' : ''}}">
            <view class="radio-inner" wx:if="{{selectedStart === index}}"></view>
          </view>
          <text>{{item}}</text>
        </view>
      </block>
      
      <!-- 分割线 -->
      <view class="modal-divider"></view>
      
      <!-- 扣分封顶 -->
      <block wx:for="{{maxOptions}}" wx:key="index">
        <view class="modal-item {{selectedStart === 2 ? 'disabled-item' : ''}}" 
              bindtap="{{selectedStart === 2 ? '' : 'onSelectMax'}}" 
              data-index="{{index}}">
          <view class="radio-outer {{selectedMax === index ? 'checked' : ''}}">
            <view class="radio-inner" wx:if="{{selectedMax === index}}"></view>
          </view>
          <text>{{item}}</text>
        </view>
      </block>
      
      <!-- 分割线 -->
      <view class="modal-divider"></view>
      
      <!-- 同伴惩罚 -->
      <block wx:for="{{dutyOptions}}" wx:key="index">
        <view class="modal-item {{selectedStart === 2 ? 'disabled-item' : ''}}" 
              bindtap="{{selectedStart === 2 ? '' : 'onSelectDuty'}}" 
              data-index="{{index}}">
          <view class="radio-outer {{selectedDuty === index ? 'checked' : ''}}">
            <view class="radio-inner" wx:if="{{selectedDuty === index}}"></view>
          </view>
          <text>{{item}}</text>
        </view>
      </block>
      
    </view>
    <view class="modal-actions">
      <button class="modal-btn cancel" bindtap="onCancel">取消</button>
      <button class="modal-btn confirm" bindtap="onConfirm">确定保存</button>
    </view>
  </view>
</view>